!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){var i={image_cache:{},defaults:{},createElement:function(t){var e=!0;for(var r in t)"object"!=typeof t[r]&&(e=!1);if(e){var n={};for(var s in t)n[s]=i.createElement(t[s]);return n}t=t||{};var o=(t=i.combineObjects({type:"div",position:"absolute",force3D:!0},i.defaults,t)).ns?document.createElementNS(t.ns,t.type):document.createElement(t.type);switch(t.type){case"canvas":o.width=t.width,o.height=t.height;break;case"video":t.autoplay&&(o.autoplay=t.autoplay),t.loop&&(o.loop=t.loop),t.controls&&(o.controls=t.controls),t.muted&&(o.muted=t.muted),t.poster&&(o.poster=t.poster),t.preload&&(o.preload=t.preload)}if(t.sources){var a=t.sources;for(s=0;s<a.length;s++){var h=document.createElement("source");h.src=a[s].url,h.type=a[s].type,o.appendChild(h)}}function c(){function e(t){return"string"==typeof t?document.getElementById(t):t}o.appendChildren=function(t){for(var e=0;e<t.length;++e)this.appendChild(t[e]);return this},o.set=function(t){return TweenLite.set(this,t),this},o.to=function(t,e){return TweenLite.to(this,t,e),this},o.from=function(t,e){return TweenLite.from(this,t,e),this},o.fromTo=function(t,e,i){return TweenLite.fromTo(this,t,e,i),this},o.get=function(t){return this._gsTransform&&this._gsTransform[t]||this._gsTransform&&0===this._gsTransform[t]?this._gsTransform[t]:"px"==this.style[t].slice(-2)?parseFloat(this.style[t]):this.style[t]},o.centerX=o.centerHorizontal=function(){return TweenLite.set(this,{left:0,right:0,marginLeft:"auto",marginRight:"auto"}),this},o.centerY=o.centerVertical=function(){return TweenLite.set(this,{top:0,bottom:0,marginTop:"auto",marginBottom:"auto"}),this},o.center=function(){return TweenLite.set(this,{top:0,left:0,right:0,bottom:0,margin:"auto"}),this},o.putInContainer=function(t){this.container=i.createElement({left:this.get("left"),top:this.get("top"),width:this.get("width"),height:this.get("height"),overflow:t||"hidden",parent:this.parentNode}),this.set({left:0,top:0}),this.container.appendChild(this)},t.id&&(o.id=t.id),t.insertBefore?(t.insertBefore=e(t.insertBefore),t.insertBefore.parentNode.insertBefore(o,t.insertBefore)):t.insertAfter?(t.insertAfter=e(t.insertAfter),t.insertAfter.parentNode.insertBefore(o,t.insertAfter.nextElementSibling)):t.parent&&(t.parent=e(t.parent),t.parent.appendChild(o)),t.center&&o.center(),t.centerX&&o.centerX(),t.centerY&&o.centerY(),t.centerHorizontal&&o.centerHorizontal(),t.centerVertical&&o.centerVertical(),t.innerHTML&&(o.innerHTML=t.innerHTML),t=i.deleteProps(t,["ns","innerHTML","retina","parent","id","type","autoplay","loop","controls","muted","poster","preload","sources","center","centerHorizontal","centerVertical","centerY","centerX","insertBefore","insertAfter"]),TweenLite.set(o,t)}function l(){var e=".svg"==this.src.slice(-4);e&&document.body.appendChild(this),t.width=t.width||Math.round(t.retina?this.width/2:this.width),t.height=t.height||Math.round(t.retina?this.height/2:this.height),t.backgroundImage="url("+this.src+")",c(),e&&document.body.removeChild(this)}return t.backgroundImage?(o.style.backgroundSize=t.backgroundSize||"contain",o.style.backgroundRepeat=t.backgroundRepeat||"no-repeat",function(t,e){var r=i.image_cache[t];r?e&&l.apply(r):(console.log("Image "+t+" has not been preloaded."),(r=document.createElement("img")).src=t,e&&(r.onload=l),i.image_cache[t]=r)}(t.backgroundImage,!0)):c(),o},preloadImages:function(t,e,r){for(var n=0,s=null,o=[],a=0;a<t.length;++a)(s=document.createElement("img")).src=s.shortSrc=t[a],o.push(s),s.onload=function(){n++,i.image_cache[this.shortSrc]=this,n==t.length&&(r?e.call(r,o):e(o))};0===t.length&&setTimeout(function(){r?e.call(r):e()},0)},include:function(t,e){console.log("#include '"+t+"'");var i=document.createElement("script");i.type="text/javascript",i.src=t,document.head.appendChild(i),i.onload=e||function(){console.log("Resource loaded: "+i.src)},i.onerror=function(){console.log("Oops! Could not load resource '"+t+"'")}},combineObjects:function(){var t={};for(var e in arguments){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},deleteProps:function(t,e){var r=i.combineObjects({},t);for(var n in e)delete r[e[n]];return r},addToBlueprint:function(t){i.blueprint=i.blueprint||{images:[],elements:{}},t.executions&&(i.blueprint.executions=t.executions),t.width&&(i.blueprint.width=t.width),t.height&&(i.blueprint.height=t.height),t.images&&(i.blueprint.images=i.blueprint.images.concat(t.images)),t.elements&&(i.blueprint.elements=i.combineObjects(i.blueprint.elements,t.elements))},createElementsFromBlueprint:function(){return i.createElement(i.blueprint.elements)}};t.exports=i},function(t,e){var i={dist:function(t,e,i,r){return Math.sqrt((t-i)*(t-i)+(e-r)*(e-r))},angle:function(t,e,i,r){return Math.atan2(r-e,i-t)},norm:function(t,e,r,n){var s=(t-e)/(r-e);return n?i.clamp(s,0,1):s},lerp:function(t,e,r,n){var s=(r-e)*t+e;return n?i.clamp(s,e,r):s},map:function(t,e,r,n,s,o){return i.lerp(i.norm(t,e,r,o),n,s,o)},clamp:function(t,e,i){return Math.min(Math.max(t,Math.min(e,i)),Math.max(e,i))},inRange:function(t,e,i){return t>=Math.min(e,i)&&t<=Math.max(e,i)},random:function(){return i.randomSeed?(i.randomSeed=(i.a*i.randomSeed+i.c)%i.m,i.randomSeed/i.m):Math.random()},a:1664525,c:1013904223,m:Math.pow(2,32),randomRange:function(t,e){return t+i.random()*(e-t)},randomInt:function(t,e){return Math.floor(t+i.random()*(e-t+1))},toDegrees:function(t){return 180*t/Math.PI},toRadians:function(t){return t*Math.PI/180},sign:function(t){return t>0?1:0===t?0:-1},roundToPlaces:function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},roundToNearest:function(t,e){return Math.round(t/e)*e},shortestArc:function(t,e){return Math.abs(e-t)<Math.PI?e-t:e>t?e-t-2*Math.PI:e-t+2*Math.PI},wrap:function(t,e){return(t%e+e)%e},lerpColor:function(t,e,r){var n=i.hexToRGB(e),s=i.hexToRGB(r),o={r:Math.round(i.lerp(t,n.r,s.r)),g:Math.round(i.lerp(t,n.g,s.g)),b:Math.round(i.lerp(t,n.b,s.b))};return i.rgbToHex(o.r,o.g,o.b)},rgbToHex:function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},hexToRGB:function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,r){return e+e+i+i+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},pad:function(t,e){for(var i=t.toString();i.length<e;)i="0"+i;return i},makeSequence:function(t){for(var e=t.substring(t.indexOf("["),t.lastIndexOf("]")+1),r=e.substring(1,e.indexOf("]")),n=e.substring(e.lastIndexOf("[")+1,e.length-1),s=r.length,o=parseInt(r),a=parseInt(n),h=[],c=o;c<=a;++c)h.push(t.replace(e,i.pad(c,s)));return h}};t.exports=i},function(t,e,i){var r=i(0),n=i(1),s=i(3),o=i(4),a=i(5),h=window.blueprint;r.addToBlueprint(h),r.preloadImages(h.images,function(){var t=h.settings.backgroundColor,e=h.width,i=h.height,c=r.createElement({id:"banner",width:e,height:i,backgroundColor:t,overflow:"hidden",cursor:"pointer",parent:document.body}),l=r.createElementsFromBlueprint();l.banner=c,r.createElement({width:"100%",height:"100%",border:"1px solid black",boxSizing:"border-box",parent:c}),o.prepCTA(l,t),c.removeChild(l.icon);var d={"160x600":{particlesPerSecond:20,maxParticles:200,speedMult:1,emitter:{x:e-20,y:i-20,width:40,height:40}},"970x600":{particlesPerSecond:50,maxParticles:400,speedMult:1.5,emitter:{x:e-100,y:i-100,width:200,height:200}},"300x600":{particlesPerSecond:30,speedMult:.75,emitter:{x:e-100,y:i-200,width:200,height:400}},"320x50":{particlesPerSecond:20,speedMult:.5,emitter:{x:e-100,y:i-20,width:200,height:40}},"728x90":{particlesPerSecond:20,speedMult:.75,emitter:{x:e-75,y:i-25,width:150,height:50}},"970x250":{particlesPerSecond:20,speedMult:1,emitter:{x:e-100,y:i-50,width:200,height:100}},"300x250":{particlesPerSecond:20,speedMult:.5}}[h.settings.size]||{speedMult:.5},p=r.combineObjects({images:["icon.png"],preCalc:!0,immortal:!0,friction:1,gravity:0,wind:0,turbulence:0,width:2*e,height:2*i,insertBefore:l.txt_1,particlesPerSecond:20,maxParticles:200,speedMult:1,emitter:{x:e-10,y:i-10,width:20,height:20}},d),u=n.dist(e,i,2*e,2*i)/2,g=new a(r.combineObjects(p,{onUpdateParticles:function(){this.activeParticles.length<10&&f&&f.play()},onUpdateParticle:function(t){t.dist=n.dist(t.x,t.y,e,i);var r=n.norm(t.dist,0,u);t.scale=r*Power1.easeOut.getRatio(t.progress)*1,t.opacity=n.lerp(Power1.easeIn.getRatio(r),.1,1),t.setSpeed(n.lerp(Math.pow(window.Power4.easeIn.getRatio(r),.8),.75,4)*d.speedMult)},onEmitParticle:function(t){t.setSpeed(1),t.setHeading(n.angle(e,i,t.x,t.y))},renderParticles:function(t){this.clearCanvas(),t.sort(function(t,e){return t.dist-e.dist});for(var e=0;e<t.length;++e)this.renderParticle(t[e])},renderParticle:function(t){this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation),this.ctx.scale(t.scale,t.scale),this.ctx.globalAlpha=1,this.ctx.fillStyle="#8382c7",this.ctx.fillRect(-t.img.width/2,-t.img.height/2,t.img.width,t.img.height),this.ctx.globalAlpha=t.opacity,this.ctx.drawImage(t.img,-t.img.width/2,-t.img.height/2),this.ctx.restore()}}));g.renderer.canvas.set({scale:.5,transformOrigin:"0 0"});new Date;var f=new s({repeat:-1}).add(function(){g.stop(),f.stop()}).offset(1).to(l.txt_1,.5,{opacity:0,ease:Sine.easeInOut}).offset(.5).from(l.txt_2,.3,{opacity:0,ease:Sine.easeInOut}).offset(1).from(l.txt_3,.3,{opacity:0,ease:Sine.easeInOut}).chain().add(function(){1==f._cycle&&f.pause()}).add(function(){g.start()}).offset(3).to([l.txt_2,l.txt_3],.5,{opacity:0,ease:Sine.easeInOut}).chain().to(l.txt_1,.5,{opacity:1,ease:Sine.easeInOut});document.body.addEventListener("click",function(){window.open(window.clickTag,"_blank")})})},function(t,e){Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError;if(null===t)throw new Error;if(void 0!==e)throw new Error;function i(){}return i.prototype=t,new i});var i=function(){TimelineMax.apply(this,arguments),this.addPosition=0,this.mode="offset",this.children=[]};(i.prototype=Object.create(TimelineMax.prototype)).constructor=i,i.prototype.add=function(t){var e;if("end"==this.mode)e=this.duration()+this.addPosition;else if("absolute"==this.mode)e=this.addPosition;else{var i=this.children.concat().sort(function(t,e){return t.index-e.index}),r=i[i.length-1];e=r?r.position:0,"offset"==this.mode?e+=this.addPosition:"chain"==this.mode&&(e+=r.duration+this.addPosition)}return TimelineMax.prototype.add.call(this,t,e),this.children.push({position:e,duration:t.duration?t.duration():0,index:this.children.length}),this.locked||(this.addPosition=0,this.mode="offset"),this},i.prototype.set=function(){return this.add(TweenLite.set(arguments[0],arguments[1]),arguments[2])},i.prototype.to=function(){return this.add(TweenLite.to(arguments[0],arguments[1],arguments[2]),arguments[3])},i.prototype.from=function(){return this.add(TweenLite.from(arguments[0],arguments[1],arguments[2]),arguments[3])},i.prototype.fromTo=function(){return this.add(TweenLite.fromTo(arguments[0],arguments[1],arguments[2],arguments[3]),arguments[4])},i.prototype.staggerTo=function(){return this.add((new TimelineMax).staggerTo(arguments[0],arguments[1],arguments[2],arguments[3]),arguments[4])},i.prototype.staggerFrom=function(){return this.add((new TimelineMax).staggerFrom(arguments[0],arguments[1],arguments[2],arguments[3]),arguments[4])},i.prototype.staggerFromTo=function(){return this.add((new TimelineMax).staggerFromTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),arguments[5])},i.prototype.lock=function(t,e){return this.mode=t,this.addPosition=e||0,this.locked=!0,this},i.prototype.offset=function(t){return this.mode="offset",this.addPosition=t||0,this.locked=!1,this},i.prototype.chain=function(t){return this.mode="chain",this.addPosition=t||0,this.locked=!1,this},i.prototype.end=function(t){return this.mode="end",this.addPosition=t||0,this.locked=!1,this},i.prototype.absolute=function(t){return this.mode="absolute",this.addPosition=t||0,this.locked=!1,this},i.prototype.loop=function(t,e){var i=0,r=this;return this.add(function(){i++<t&&r.seek(e||"loop")})},i.prototype.start=function(t){return this.add(function(){t.play()})},i.prototype.stagger=function(){return this.add((new TimelineMax).add(arguments[0],0,"normal",arguments[1]))},t.exports=i},function(t,e){t.exports={prepCTA:function(t,e){var i=t.banner;t.cta.set({width:t.cta_1.get("width"),height:t.cta_1.get("height"),backgroundColor:"#000000",borderRadius:"4px"}),t.ctaHover.set({left:-2,top:-2,opacity:0}),i.addEventListener("mouseenter",function(){TweenMax.to(t.cta,.2,{backgroundColor:"rgba(0, 0, 0, 0.7)",ease:Sine.easeIn}),t.cta_1.set({opacity:1})}),i.addEventListener("mouseleave",function(){TweenMax.to(t.cta,.2,{backgroundColor:"rgba(0, 0, 0, 1)",ease:Sine.easeIn})})}}},function(t,e,i){var r=i(0),n=i(1);!function(e,i){t.exports=i()}(0,function(){"use strict";function t(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.mass=0,this.radius=0,this.friction=0,this.springs=[],this.vortices=[],this.rotation=0,this.rotationSpeed=0,this.scale=0,this.opacity=0,this.progress=0,this.lifespan=0}function e(t,e){if(this.type="Canvas",this.settings=t,this.system=e,this.settings.canvas)this.canvas=this.settings.canvas;else{this.settings.clearCanvas=!0;var i=document.getElementById("banner"),n={parent:i||document.body,width:i?i.get("width"):300,height:i?i.get("height"):250,type:"canvas"},s=r.combineObjects(n,this.settings);s=r.deleteProps(s,this.system.deleteProps),this.canvas=r.createElement(s)}this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height}function i(i){this.settings=r.combineObjects({preCalc:!1,autoStart:!0,gravity:.06,wind:0,turbulence:.1,friction:.97,vx:0,vy:0,areaPadding:50,opacity:1,scale:1,rotationSpeed:0,rotation:0,fps:60,reverseRender:!1,recycleStrays:!0,immortal:!1},i),this.deleteProps=["preCalc","scale","rotation","opacity","reverseRender","images","clearCanvas","maxParticles","autoStart","turbulence","gravity","wind","friction","vx","vy","areaPadding","rotationSpeed","fps","lifespan","particlesPerSecond","emitter","onUpdate","onUpdateParticle","onUpdateParticles","onParticleDeath","onInit","onEmitParticle","onError","renderParticle","renderParticles","recycleStrays","immortal","testError"],this.renderer=new e(this.settings,this),this.emitter=this.settings.emitter||{x:0,y:0,width:this.renderer.width,height:this.renderer.height},this.settings.images&&(this.images=this.settings.images.slice()),this.onInit=this.settings.onInit,this.onEmitParticle=this.settings.onEmitParticle,this.onUpdateParticle=this.settings.onUpdateParticle,this.onUpdateParticles=this.settings.onUpdateParticles,this.onParticleDeath=this.settings.onParticleDeath,this.onError=this.settings.onError,this.settings.renderParticle&&(this.renderer.renderParticle=this.settings.renderParticle),this.settings.renderParticles&&(this.renderer.renderParticles=this.settings.renderParticles),this.lifespan=this.settings.lifespan,this.maxParticles=this.settings.maxParticles,this.particlesPerSecond=this.settings.particlesPerSecond,this.maxParticles&&this.particlesPerSecond&&this.lifespan&&(this.lifespan=null,console.log("Particles: Lifespan changed to honor maxParticles & particlesPerSecond")),this.maxParticles||(this.maxParticles=this.lifespan*this.particlesPerSecond),this.particlesPerSecond||(this.particlesPerSecond=this.maxParticles/this.lifespan),this.lifespan||(this.lifespan=this.maxParticles/this.particlesPerSecond),this.oldTime=(new Date).getTime()/1e3,this.lastEmitTime=this.oldTime,this.currentTime=0,this.fps=this.settings.fps,this.updateInterval=1/this.settings.fps,this.isRunning=!1,this.deltaTime=0,this.emitInterval=1/this.particlesPerSecond,this.particlesPerFrame=this.updateInterval/this.emitInterval,this.particleRest=0,this.activeParticles=[],this.idleParticles=[],this.images&&this.prepareImages();for(var n=0;n<this.maxParticles;++n){var s=new t(0,0,0,0);this.idleParticles.push(s),this.renderer.onCreateParticle&&this.renderer.onCreateParticle(s)}if((this.onInit&&this.onInit(this.idleParticles),this.renderer.onInit)&&!this.renderer.onInit(this.idleParticles))return void(this.onError&&this.onError());this.settings.preCalc&&this.preCalc(),this.settings.autoStart&&this.start(),console.log("Particles:\n\tRenderer: "+this.renderer.type+"\n\tLifespan: "+this.lifespan+"\n\tMax particles: "+this.maxParticles+"\n\tParticles per second: "+this.particlesPerSecond)}return t.prototype.addSpring=function(t,e,i){this.removeSpring(t),this.springs.push({point:t,k:e,length:i||0})},t.prototype.removeSpring=function(t){for(var e=0;e<this.springs.length;++e)if(t===this.springs[e].point)return void this.springs.splice(e,1)},t.prototype.addVortex=function(t,e,i,r){this.removeVortex(t),this.vortices.push({point:t,radius:e,speed1:i,speed2:r})},t.prototype.removeVortex=function(t){for(var e=0;e<this.vortices.length;++e)if(t===this.vortices[e].point)return void this.vortices.splice(e,1)},t.prototype.accelerate=function(t,e){this.vx+=t,this.vy+=e},t.prototype.update=function(){this.age++,this.progress=this.age/this.lifespan,this.progress>1&&(this.progress=1),this.handleSprings(),this.handleVortices(),this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,this.rotation+=this.rotationSpeed},t.prototype.handleSprings=function(){for(var t=0;t<this.springs.length;++t){var e=this.springs[t];this.springTo(e.point,e.k,e.length)}},t.prototype.handleVortices=function(){for(var t=0;t<this.vortices.length;++t){var e=this.vortices[t];this.vortexTo(e.point,e.radius,e.speed1,e.speed2)}},t.prototype.springTo=function(t,e,i){var r=t.x-this.x,n=t.y-this.y,s=Math.sqrt(r*r+n*n),o=(s-i||0)*e;this.vx+=r/s*o,this.vy+=n/s*o},t.prototype.vortexTo=function(t,e,i,r){var s=t.x-this.x,o=t.y-this.y,a=Math.sqrt(s*s+o*o),h=n.map(a,0,e,i,r,!0);this.vx+=o*h,this.vy+=-s*h},t.prototype.getSpeed=function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)},t.prototype.setSpeed=function(t){var e=this.getHeading();this.vx=Math.cos(e)*t,this.vy=Math.sin(e)*t},t.prototype.getHeading=function(){return Math.atan2(this.vy,this.vx)},t.prototype.setHeading=function(t){var e=this.getSpeed();this.vx=Math.cos(t)*e,this.vy=Math.sin(t)*e},t.prototype.getLifeCurve=function(){return Math.sin(this.progress*Math.PI)},e.prototype.clearCanvas=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.renderParticles=function(t){this.settings.clearCanvas&&this.clearCanvas();for(var e=0;e<t.length;++e)this.renderParticle(t[e])},e.prototype.renderParticle=function(t){if(t.img){this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation),this.ctx.globalAlpha=t.opacity;var e=t.img;this.ctx.drawImage(e,-e.width*t.scale/2,-e.height*t.scale/2,e.width*t.scale,e.height*t.scale),this.ctx.restore()}},i.prototype.preCalc=function(){for(var t=this.lifespan*this.fps,e=0;e<t;++e)this.update(e+1);this.settings.preCalc=!1,this.update()},i.prototype.start=function(){this.isRunning=!0,TweenLite.ticker.addEventListener("tick",this.update,this)},i.prototype.stop=function(t){this.isRunning=!1,t&&TweenLite.ticker.removeEventListener("tick",this.update)},i.prototype.prepareImages=function(){for(var t=0;t<this.images.length;++t)if("string"==typeof this.images[t]){var e=new Image;e.src=this.images[t],this.images[t]=e}},i.prototype.update=function(t){if(this.currentTime=t?t*(1/60):(new Date).getTime()/1e3,this.deltaTime=this.currentTime-this.oldTime,t||60==this.fps||this.deltaTime>this.updateInterval){if(this.oldTime=this.currentTime-this.deltaTime%this.updateInterval,this.deltaTime>3*this.updateInterval)return;var e=this.particlesPerFrame+this.particleRest;this.particleRest=e%1,(this.isRunning||t)&&this.emitParticles(Math.floor(e)),this.onUpdateParticles&&this.onUpdateParticles(this.activeParticles);for(var i=this.activeParticles.length;i--;){var r=this.activeParticles[i];(this.settings.wind||this.settings.gravity)&&r.accelerate(this.settings.wind,this.settings.gravity),this.settings.turbulence&&r.accelerate(n.randomRange(-this.settings.turbulence,this.settings.turbulence),n.randomRange(-this.settings.turbulence,this.settings.turbulence)),this.onUpdateParticle&&this.onUpdateParticle(r),r.update(this.deltaTime),(this.settings.recycleStrays&&(r.x<-this.settings.areaPadding||r.x>this.renderer.width+this.settings.areaPadding||r.y<-this.settings.areaPadding||r.y>this.renderer.height+this.settings.areaPadding)||!this.settings.immortal&&r.age>this.lifespan*this.fps)&&(this.idleParticles.push(this.activeParticles.splice(i,1)[0]),this.renderer.onParticleDeath&&this.renderer.onParticleDeath(r),this.onParticleDeath&&this.onParticleDeath(r))}this.renderer.renderParticles(this.settings.reverseRender?this.activeParticles.slice().reverse():this.activeParticles)}this.activeParticles.length||this.isRunning||this.stop(!0)},i.prototype.emitParticles=function(t){this.isRunning||this.settings.preCalc||(this.start(),this.isRunning=!1);for(var e=0;e<t;++e){var i;if(this.idleParticles.length)i=this.idleParticles.shift();else{if(this.settings.immortal)return;i=this.activeParticles.shift()}i.age=0,i.progress=0,i.lifeCurve=0,i.springs=[],i.gravitations=[],i.x=this.emitter.x+n.random()*(this.emitter.width||0),i.y=this.emitter.y+n.random()*(this.emitter.height||0),i.opacity=this.settings.opacity,i.lifespan=this.lifespan*this.fps,i.friction=this.settings.friction,i.rotationSpeed=this.settings.rotationSpeed,null!=this.settings.heading&&null!=this.settings.speed?(i.setSpeed(this.settings.speed),i.setHeading(this.settings.heading)):(i.vx=this.settings.vx,i.vy=this.settings.vy),i.scale=this.settings.scale,i.rotation=this.settings.rotation,this.images&&(i.img=this.images[n.randomInt(0,this.images.length-1)]),this.onEmitParticle&&this.onEmitParticle(i),this.renderer.onEmitParticle&&this.renderer.onEmitParticle(i),this.activeParticles.push(i)}},i})}]);